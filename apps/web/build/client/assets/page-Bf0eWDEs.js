import{C as r}from"./PolymorphicComponent-BX0mGPA7.js";import{r as p,o as e,p as q,B as z}from"./chunk-OIYGIGL5-Bl7fu__Q.js";import{u as G,R as W}from"./layout-DujwgiLM.js";import{u as B,L as O}from"./loader-circle-MXmvxXnL.js";import{u as V,S as L}from"./save-CXaWjkq2.js";import{A as R}from"./arrow-left-CZCw9Flu.js";import{B as A}from"./building-2-DRieEeFk.js";import{U as K}from"./user-G-DUsIBb.js";import{M}from"./map-pin-CAE5aycg.js";import{C as Q}from"./calculator-BwbJLpSQ.js";import{C as U,a as H}from"./credit-card-CRmE0Cdr.js";import{F as J}from"./FullScreenError-CUHBHojx.js";import"./circle-alert-DZMD2-Db.js";if(typeof window<"u"){const n={};globalThis.process??={};const s=globalThis.process.env??{};globalThis.process.env=new Proxy(Object.assign({},n,s),{get(a,d){return d in a?a[d]:void 0},has(){return!0}})}function Y(n){const s=G(),[a,d]=p.useState({company_id:"",wo_number:"",date:"",vendor_name:"",vendor_contact:"",vendor_address:"",vendor_gst:"",site_name:"",project_description:"",work_description:"",total_amount:"",has_gst:!0,sgst_percent:9,cgst_percent:9,retention_percent:0,payment_terms:"",vendor_bank_name:"",vendor_bank_account:"",vendor_bank_ifsc:"",status:"Draft"}),[c,v]=p.useState({sgst_amount:0,cgst_amount:0,gross_amount:0,retention_amount:0,net_amount:0}),[_,g]=p.useState(null),[k,w]=p.useState(!1),{data:h,isLoading:x,error:I}=B({queryKey:["work-order",n],queryFn:async()=>{const o=await fetch(`/api/work-orders/${n}`);if(!o.ok)throw new Error("Failed to fetch work order");return o.json()}}),{data:y}=B({queryKey:["companies"],queryFn:async()=>{const o=await fetch("/api/companies");if(!o.ok)throw new Error("Failed to fetch companies");return o.json()}}),j=V({mutationFn:async o=>{const i={...o,sgst_amount:c.sgst_amount,cgst_amount:c.cgst_amount,gross_amount:c.gross_amount,retention_amount:c.retention_amount,net_amount:c.net_amount},u=await fetch(`/api/work-orders/${n}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(!u.ok){const m=await u.json();throw new Error(m.error||"Failed to update work order")}return u.json()},onSuccess:()=>{w(!0),s.invalidateQueries({queryKey:["work-order",n]}),s.invalidateQueries({queryKey:["work-orders"]}),s.invalidateQueries({queryKey:["companies"]}),setTimeout(()=>{window.location.href=`/work-orders/${n}`},2e3)}}),F=y?.companies||[],t=h?.workOrder;return p.useEffect(()=>{if(t&&(d({company_id:t.company_id||"",wo_number:t.wo_number||"",date:t.date?new Date(t.date).toISOString().split("T")[0]:"",vendor_name:t.vendor_name||"",vendor_contact:t.vendor_contact||"",vendor_address:t.vendor_address||"",vendor_gst:t.vendor_gst||"",site_name:t.site_name||"",project_description:t.project_description||"",work_description:t.work_description||"",total_amount:t.total_amount||"",has_gst:t.has_gst!==!1,sgst_percent:t.sgst_percent||9,cgst_percent:t.cgst_percent||9,retention_percent:t.retention_percent||0,payment_terms:t.payment_terms||"",vendor_bank_name:t.vendor_bank_name||"",vendor_bank_account:t.vendor_bank_account||"",vendor_bank_ifsc:t.vendor_bank_ifsc||"",status:t.status||"Draft"}),t.company_id)){const o=F.find(i=>i.id.toString()===t.company_id.toString());g(o)}},[t,F]),p.useEffect(()=>{const o=parseFloat(a.total_amount)||0,i=parseFloat(a.retention_percent)||0,u=parseFloat(a.sgst_percent)||0,m=parseFloat(a.cgst_percent)||0,C=a.has_gst?o*u/100:0,T=a.has_gst?o*m/100:0,N=o+C+T,S=N*i/100,D=N-S;v({sgst_amount:C,cgst_amount:T,gross_amount:N,retention_amount:S,net_amount:D})},[a.total_amount,a.has_gst,a.sgst_percent,a.cgst_percent,a.retention_percent]),{formData:a,setFormData:d,calculatedAmounts:c,selectedCompany:_,showSuccess:k,isOrderLoading:x,orderError:I,companies:F,workOrder:t,updateMutation:j,handleInputChange:o=>{const{name:i,value:u}=o.target;d(m=>({...m,[i]:u}))},handleCompanyChange:o=>{const i=o.target.value;d(m=>({...m,company_id:i}));const u=F.find(m=>m.id.toString()===i);g(u)},handleGstChange:o=>{d(i=>({...i,has_gst:o.target.value==="true"}))},handleSubmit:o=>{o.preventDefault(),j.mutate(a)}}}if(typeof window<"u"){const n={};globalThis.process??={};const s=globalThis.process.env??{};globalThis.process.env=new Proxy(Object.assign({},n,s),{get(a,d){return d in a?a[d]:void 0},has(){return!0}})}function X({workOrderNumber:n,workOrderId:s}){return e.jsxs(r,{className:"bg-[#0C8657] dark:bg-[#0C8657] h-14 flex items-center px-4 sm:px-6 text-white sticky top-0 z-30",renderId:"render-c1b8b3c0",as:"header",children:[e.jsxs(r,{onClick:()=>window.location.href=`/work-orders/${s}`,className:"flex items-center gap-2 hover:bg-white/10 dark:hover:bg-white/10 active:bg-white/20 dark:active:bg-white/20 px-2 py-1 rounded transition-colors",renderId:"render-b017cd12",as:"button",children:[e.jsx(R,{size:20}),e.jsx(r,{className:"hidden sm:block",renderId:"render-62c28e4c",as:"span",children:"Back"})]}),e.jsxs(r,{className:"text-xl font-semibold ml-4",renderId:"render-2820288f",as:"h1",children:["Edit Work Order - ",n]})]})}if(typeof window<"u"){const n={};globalThis.process??={};const s=globalThis.process.env??{};globalThis.process.env=new Proxy(Object.assign({},n,s),{get(a,d){return d in a?a[d]:void 0},has(){return!0}})}const E="w-full px-3 py-2 border border-[#E4E8EE] dark:border-[#333333] rounded-lg bg-white dark:bg-[#262626] text-[#1F2739] dark:text-[#FFFFFF] focus:outline-none focus:ring-2 focus:ring-[#0C8657] dark:focus:ring-[#22C55E]";function l({label:n,...s}){return e.jsxs(r,{renderId:"render-8377959d",as:"div",children:[e.jsx(r,{className:"block text-sm font-medium text-[#1F2739] dark:text-[#FFFFFF] mb-1",renderId:"render-786dd3fb",as:"label",children:n}),e.jsx(r,{...s,className:E,renderId:"render-fe3d586a",as:"input"})]})}function b({label:n,children:s,...a}){return e.jsxs(r,{renderId:"render-b17a7c66",as:"div",children:[e.jsx(r,{className:"block text-sm font-medium text-[#1F2739] dark:text-[#FFFFFF] mb-1",renderId:"render-6022e9cc",as:"label",children:n}),e.jsx(r,{...a,className:E,renderId:"render-96251a8f",as:"select",children:s})]})}function $({label:n,...s}){return e.jsxs(r,{renderId:"render-d92ad954",as:"div",children:[e.jsx(r,{className:"block text-sm font-medium text-[#1F2739] dark:text-[#FFFFFF] mb-1",renderId:"render-447b99b9",as:"label",children:n}),e.jsx(r,{...s,className:E,renderId:"render-71c57252",as:"textarea"})]})}if(typeof window<"u"){const n={};globalThis.process??={};const s=globalThis.process.env??{};globalThis.process.env=new Proxy(Object.assign({},n,s),{get(a,d){return d in a?a[d]:void 0},has(){return!0}})}function Z({formData:n,handleInputChange:s,handleCompanyChange:a,companies:d}){return e.jsxs(r,{className:"bg-white dark:bg-[#1E1E1E] rounded-lg border border-[#E4E8EE] dark:border-[#333333] p-6",renderId:"render-8f6163e0",as:"div",children:[e.jsxs(r,{className:"flex items-center gap-2 mb-4",renderId:"render-92a36136",as:"div",children:[e.jsx(A,{size:20,className:"text-[#0C8657] dark:text-[#22C55E]"}),e.jsx(r,{className:"text-lg font-semibold text-[#1F2739] dark:text-[#FFFFFF]",renderId:"render-86704e9f",as:"h2",children:"Basic Information"})]}),e.jsxs(r,{className:"grid md:grid-cols-2 gap-4",renderId:"render-06484c7a",as:"div",children:[e.jsxs(b,{label:"Company *",name:"company_id",value:n.company_id,onChange:a,required:!0,children:[e.jsx(r,{value:"",renderId:"render-7fcf901b",as:"option",children:"Select Company"}),d.map(c=>e.jsx(r,{value:c.id,renderId:"render-bdc6058f",as:"option",children:c.company_name},c.id))]}),e.jsx(l,{label:"Date *",type:"date",name:"date",value:n.date,onChange:s,required:!0}),e.jsx(r,{className:"md:col-span-2",renderId:"render-3d9b2dc5",as:"div",children:e.jsx(l,{label:"Work Order Number",name:"wo_number",value:n.wo_number,onChange:s})}),e.jsxs(b,{label:"Status",name:"status",value:n.status,onChange:s,children:[e.jsx(r,{value:"Draft",renderId:"render-8d62c090",as:"option",children:"Draft"}),e.jsx(r,{value:"Active",renderId:"render-7480c2c7",as:"option",children:"Active"}),e.jsx(r,{value:"In Progress",renderId:"render-41ac3aba",as:"option",children:"In Progress"}),e.jsx(r,{value:"Completed",renderId:"render-8f2dee19",as:"option",children:"Completed"})]})]})]})}if(typeof window<"u"){const n={};globalThis.process??={};const s=globalThis.process.env??{};globalThis.process.env=new Proxy(Object.assign({},n,s),{get(a,d){return d in a?a[d]:void 0},has(){return!0}})}function ee({formData:n,handleInputChange:s}){return e.jsxs(r,{className:"bg-white dark:bg-[#1E1E1E] rounded-lg border border-[#E4E8EE] dark:border-[#333333] p-6",renderId:"render-a4b89f0c",as:"div",children:[e.jsxs(r,{className:"flex items-center gap-2 mb-4",renderId:"render-792166ba",as:"div",children:[e.jsx(K,{size:20,className:"text-[#0C8657] dark:text-[#22C55E]"}),e.jsx(r,{className:"text-lg font-semibold text-[#1F2739] dark:text-[#FFFFFF]",renderId:"render-79057a4d",as:"h2",children:"Vendor Details"})]}),e.jsxs(r,{className:"grid md:grid-cols-2 gap-4",renderId:"render-c49281ee",as:"div",children:[e.jsx(l,{label:"Vendor Name *",name:"vendor_name",value:n.vendor_name,onChange:s,required:!0}),e.jsx(l,{label:"Vendor Contact Number",type:"tel",name:"vendor_contact",value:n.vendor_contact,onChange:s}),e.jsx($,{label:"Vendor Address",name:"vendor_address",value:n.vendor_address,onChange:s,rows:3}),e.jsx(l,{label:"Vendor GST No. (Optional)",name:"vendor_gst",value:n.vendor_gst,onChange:s})]})]})}if(typeof window<"u"){const n={};globalThis.process??={};const s=globalThis.process.env??{};globalThis.process.env=new Proxy(Object.assign({},n,s),{get(a,d){return d in a?a[d]:void 0},has(){return!0}})}function re({formData:n,handleInputChange:s}){return e.jsxs(r,{className:"bg-white dark:bg-[#1E1E1E] rounded-lg border border-[#E4E8EE] dark:border-[#333333] p-6",renderId:"render-6344c522",as:"div",children:[e.jsxs(r,{className:"flex items-center gap-2 mb-4",renderId:"render-b50c04ad",as:"div",children:[e.jsx(M,{size:20,className:"text-[#0C8657] dark:text-[#22C55E]"}),e.jsx(r,{className:"text-lg font-semibold text-[#1F2739] dark:text-[#FFFFFF]",renderId:"render-cc881463",as:"h2",children:"Project Details"})]}),e.jsxs(r,{className:"space-y-4",renderId:"render-80911f21",as:"div",children:[e.jsx(l,{label:"Site Name *",name:"site_name",value:n.site_name,onChange:s,required:!0}),e.jsx(l,{label:"Project Description",name:"project_description",value:n.project_description,onChange:s}),e.jsx($,{label:"Description of Work *",name:"work_description",value:n.work_description,onChange:s,required:!0,rows:6,placeholder:"Detailed description of the work to be performed..."})]})]})}if(typeof window<"u"){const n={};globalThis.process??={};const s=globalThis.process.env??{};globalThis.process.env=new Proxy(Object.assign({},n,s),{get(a,d){return d in a?a[d]:void 0},has(){return!0}})}const f=n=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:2}).format(n);function ne({formData:n,calculatedAmounts:s,handleInputChange:a,handleGstChange:d}){return e.jsxs(r,{className:"bg-white dark:bg-[#1E1E1E] rounded-lg border border-[#E4E8EE] dark:border-[#333333] p-6",renderId:"render-b0a2008e",as:"div",children:[e.jsxs(r,{className:"flex items-center gap-2 mb-4",renderId:"render-7ec98980",as:"div",children:[e.jsx(Q,{size:20,className:"text-[#0C8657] dark:text-[#22C55E]"}),e.jsx(r,{className:"text-lg font-semibold text-[#1F2739] dark:text-[#FFFFFF]",renderId:"render-a20cf431",as:"h2",children:"Financial Details"})]}),e.jsxs(r,{className:"grid md:grid-cols-2 gap-4",renderId:"render-7e9e6059",as:"div",children:[e.jsx(l,{label:"Total Amount (Before Tax) *",type:"number",step:"0.01",name:"total_amount",value:n.total_amount,onChange:a,required:!0}),e.jsxs(b,{label:"GST Applicable",name:"has_gst",value:n.has_gst,onChange:d,children:[e.jsx(r,{value:!0,renderId:"render-2de79f09",as:"option",children:"Yes"}),e.jsx(r,{value:!1,renderId:"render-26e73865",as:"option",children:"No"})]}),n.has_gst&&e.jsxs(e.Fragment,{children:[e.jsxs(b,{label:"SGST %",name:"sgst_percent",value:n.sgst_percent,onChange:a,children:[e.jsx(r,{value:0,renderId:"render-c8c83e20",as:"option",children:"0%"}),e.jsx(r,{value:2.5,renderId:"render-6d691d56",as:"option",children:"2.5%"}),e.jsx(r,{value:6,renderId:"render-dae4aaff",as:"option",children:"6%"}),e.jsx(r,{value:9,renderId:"render-5b34ac34",as:"option",children:"9%"}),e.jsx(r,{value:14,renderId:"render-e626f15f",as:"option",children:"14%"})]}),e.jsxs(b,{label:"CGST %",name:"cgst_percent",value:n.cgst_percent,onChange:a,children:[e.jsx(r,{value:0,renderId:"render-027540ee",as:"option",children:"0%"}),e.jsx(r,{value:2.5,renderId:"render-727b7351",as:"option",children:"2.5%"}),e.jsx(r,{value:6,renderId:"render-4b8cdfc0",as:"option",children:"6%"}),e.jsx(r,{value:9,renderId:"render-2ee62209",as:"option",children:"9%"}),e.jsx(r,{value:14,renderId:"render-6007eeda",as:"option",children:"14%"})]})]}),e.jsxs(b,{label:"Retention %",name:"retention_percent",value:n.retention_percent,onChange:a,children:[e.jsx(r,{value:0,renderId:"render-fc11c748",as:"option",children:"0%"}),e.jsx(r,{value:5,renderId:"render-e25ccbbf",as:"option",children:"5%"}),e.jsx(r,{value:10,renderId:"render-98be4afe",as:"option",children:"10%"})]})]}),e.jsxs(r,{className:"mt-6 p-4 bg-[#F7FAFC] dark:bg-[#262626] rounded-lg",renderId:"render-c3987539",as:"div",children:[e.jsxs(r,{className:"grid md:grid-cols-2 gap-4 text-sm",renderId:"render-372fadb6",as:"div",children:[n.has_gst&&e.jsxs(e.Fragment,{children:[e.jsxs(r,{className:"flex justify-between",renderId:"render-5d7f8395",as:"div",children:[e.jsxs(r,{className:"text-[#5D667E] dark:text-[#B0B0B0]",renderId:"render-86bf434a",as:"span",children:["SGST (",n.sgst_percent,"%):"]}),e.jsx(r,{className:"text-[#1F2739] dark:text-[#FFFFFF] font-medium",renderId:"render-322b2887",as:"span",children:f(s.sgst_amount)})]}),e.jsxs(r,{className:"flex justify-between",renderId:"render-aa255b03",as:"div",children:[e.jsxs(r,{className:"text-[#5D667E] dark:text-[#B0B0B0]",renderId:"render-2ca3e417",as:"span",children:["CGST (",n.cgst_percent,"%):"]}),e.jsx(r,{className:"text-[#1F2739] dark:text-[#FFFFFF] font-medium",renderId:"render-ac1750d2",as:"span",children:f(s.cgst_amount)})]})]}),e.jsxs(r,{className:"flex justify-between",renderId:"render-4991ee39",as:"div",children:[e.jsx(r,{className:"text-[#5D667E] dark:text-[#B0B0B0]",renderId:"render-65766ad3",as:"span",children:"Gross Amount:"}),e.jsx(r,{className:"text-[#1F2739] dark:text-[#FFFFFF] font-medium",renderId:"render-0e467d72",as:"span",children:f(s.gross_amount)})]}),n.retention_percent>0&&e.jsxs(r,{className:"flex justify-between",renderId:"render-ec1be89b",as:"div",children:[e.jsx(r,{className:"text-[#5D667E] dark:text-[#B0B0B0]",renderId:"render-49fbafe8",as:"span",children:"Retention Amount:"}),e.jsx(r,{className:"text-[#1F2739] dark:text-[#FFFFFF] font-medium",renderId:"render-bebfdcf4",as:"span",children:f(s.retention_amount)})]})]}),e.jsx(r,{className:"my-3 border-[#E4E8EE] dark:border-[#333333]",renderId:"render-fb2fb410",as:"hr"}),e.jsxs(r,{className:"flex justify-between text-lg font-bold",renderId:"render-add1c28f",as:"div",children:[e.jsx(r,{className:"text-[#1F2739] dark:text-[#FFFFFF]",renderId:"render-5e72c821",as:"span",children:"Net Amount:"}),e.jsx(r,{className:"text-[#0C8657] dark:text-[#22C55E]",renderId:"render-b932d5cc",as:"span",children:f(s.net_amount)})]})]})]})}if(typeof window<"u"){const n={};globalThis.process??={};const s=globalThis.process.env??{};globalThis.process.env=new Proxy(Object.assign({},n,s),{get(a,d){return d in a?a[d]:void 0},has(){return!0}})}function se({formData:n,handleInputChange:s}){return e.jsxs(r,{className:"bg-white dark:bg-[#1E1E1E] rounded-lg border border-[#E4E8EE] dark:border-[#333333] p-6",renderId:"render-2812b1f5",as:"div",children:[e.jsxs(r,{className:"flex items-center gap-2 mb-4",renderId:"render-bcc01716",as:"div",children:[e.jsx(U,{size:20,className:"text-[#0C8657] dark:text-[#22C55E]"}),e.jsx(r,{className:"text-lg font-semibold text-[#1F2739] dark:text-[#FFFFFF]",renderId:"render-9fcb61c4",as:"h2",children:"Payment & Bank Details"})]}),e.jsxs(r,{className:"grid md:grid-cols-2 gap-4",renderId:"render-9a648b17",as:"div",children:[e.jsxs(b,{label:"Payment Terms",name:"payment_terms",value:n.payment_terms,onChange:s,children:[e.jsx(r,{value:"",renderId:"render-c85d8ba2",as:"option",children:"Select Payment Terms"}),e.jsx(r,{value:"100% Advance",renderId:"render-5fd18e89",as:"option",children:"100% Advance"}),e.jsx(r,{value:"After Completion",renderId:"render-a4fefe9a",as:"option",children:"After Completion"}),e.jsx(r,{value:"50% Advance + 50% After",renderId:"render-88a64176",as:"option",children:"50% Advance + 50% After"})]}),e.jsx(l,{label:"Vendor Bank Name",name:"vendor_bank_name",value:n.vendor_bank_name,onChange:s}),e.jsx(l,{label:"Vendor Bank Account No.",name:"vendor_bank_account",value:n.vendor_bank_account,onChange:s}),e.jsx(l,{label:"Vendor Bank IFSC",name:"vendor_bank_ifsc",value:n.vendor_bank_ifsc,onChange:s})]})]})}if(typeof window<"u"){const n={};globalThis.process??={};const s=globalThis.process.env??{};globalThis.process.env=new Proxy(Object.assign({},n,s),{get(a,d){return d in a?a[d]:void 0},has(){return!0}})}function ae({id:n,isPending:s}){return e.jsxs(r,{className:"flex gap-4 pt-6",renderId:"render-0ff1ce8e",as:"div",children:[e.jsx(r,{type:"button",onClick:()=>window.location.href=`/work-orders/${n}`,className:"flex-1 px-6 py-3 border border-[#E4E8EE] dark:border-[#333333] text-[#5D667E] dark:text-[#B0B0B0] rounded-lg hover:bg-[#F7FAFC] dark:hover:bg-[#262626] transition-colors",renderId:"render-9f25c92c",as:"button",children:"Cancel"}),e.jsxs(r,{type:"submit",disabled:s,className:"flex-1 flex items-center justify-center gap-2 px-6 py-3 bg-[#0C8657] dark:bg-[#059669] text-white rounded-lg hover:bg-[#0a6b47] dark:hover:bg-[#047857] disabled:opacity-50 transition-colors",renderId:"render-14f0e1b6",as:"button",children:[s?e.jsx(O,{size:20,className:"animate-spin"}):e.jsx(L,{size:20}),e.jsx(r,{renderId:"render-b43643aa",as:"span",children:"Update Work Order"})]})]})}if(typeof window<"u"){const n={};globalThis.process??={};const s=globalThis.process.env??{};globalThis.process.env=new Proxy(Object.assign({},n,s),{get(a,d){return d in a?a[d]:void 0},has(){return!0}})}function de({company:n}){return n?e.jsx(r,{className:"lg:col-span-1",renderId:"render-50afee35",as:"div",children:e.jsxs(r,{className:"bg-white dark:bg-[#1E1E1E] rounded-lg border border-[#E4E8EE] dark:border-[#333333] p-6 sticky top-6",renderId:"render-6a9cc9e5",as:"div",children:[e.jsxs(r,{className:"flex items-center gap-2 mb-4",renderId:"render-27a8accf",as:"div",children:[e.jsx(A,{size:20,className:"text-[#0C8657] dark:text-[#22C55E]"}),e.jsx(r,{className:"text-lg font-semibold text-[#1F2739] dark:text-[#FFFFFF]",renderId:"render-aeffc39c",as:"h3",children:"Company Details"})]}),e.jsxs(r,{className:"space-y-3 text-sm",renderId:"render-a8a19c18",as:"div",children:[e.jsx(r,{renderId:"render-9e78674c",as:"div",children:e.jsx(r,{className:"font-medium text-[#1F2739] dark:text-[#FFFFFF]",renderId:"render-384e1860",as:"span",children:n.company_name})}),n.address&&e.jsxs(r,{renderId:"render-508fdf48",as:"div",children:[e.jsx(r,{className:"text-[#5D667E] dark:text-[#B0B0B0]",renderId:"render-1737f302",as:"span",children:"Address:"}),e.jsx(r,{className:"text-[#1F2739] dark:text-[#FFFFFF] mt-1",renderId:"render-15e34b38",as:"p",children:n.address})]}),n.contact_person&&e.jsxs(r,{renderId:"render-312f2313",as:"div",children:[e.jsx(r,{className:"text-[#5D667E] dark:text-[#B0B0B0]",renderId:"render-f147037c",as:"span",children:"Contact Person:"}),e.jsx(r,{className:"text-[#1F2739] dark:text-[#FFFFFF]",renderId:"render-19a28827",as:"p",children:n.contact_person})]}),n.contact_number&&e.jsxs(r,{renderId:"render-9a8bd5e4",as:"div",children:[e.jsx(r,{className:"text-[#5D667E] dark:text-[#B0B0B0]",renderId:"render-f04ed90e",as:"span",children:"Contact:"}),e.jsx(r,{className:"text-[#1F2739] dark:text-[#FFFFFF]",renderId:"render-e2f60b1e",as:"p",children:n.contact_number})]}),n.gst_number&&e.jsxs(r,{renderId:"render-ad13e5bd",as:"div",children:[e.jsx(r,{className:"text-[#5D667E] dark:text-[#B0B0B0]",renderId:"render-e70921a3",as:"span",children:"GST:"}),e.jsx(r,{className:"text-[#1F2739] dark:text-[#FFFFFF]",renderId:"render-b26477f5",as:"p",children:n.gst_number})]})]})]})}):null}if(typeof window<"u"){const n={};globalThis.process??={};const s=globalThis.process.env??{};globalThis.process.env=new Proxy(Object.assign({},n,s),{get(a,d){return d in a?a[d]:void 0},has(){return!0}})}function te(){return e.jsx(r,{className:"min-h-screen bg-[#F6F8FA] dark:bg-[#121212] flex items-center justify-center",renderId:"render-c5521c83",as:"div",children:e.jsx(O,{size:32,className:"text-[#0C8657] dark:text-[#22C55E] animate-spin"})})}if(typeof window<"u"){const n={};globalThis.process??={};const s=globalThis.process.env??{};globalThis.process.env=new Proxy(Object.assign({},n,s),{get(a,d){return d in a?a[d]:void 0},has(){return!0}})}function P({message:n,type:s="success"}){const c=s==="success"?"bg-[#10B981] dark:bg-[#059669]":"bg-[#EF4444] dark:bg-[#DC2626]";return e.jsxs(r,{className:`fixed bottom-6 right-6 text-white px-6 py-3 rounded-lg shadow-lg flex items-center gap-2 ${c}`,renderId:"render-559fb385",as:"div",children:[s==="success"&&e.jsx(H,{size:20}),e.jsx(r,{renderId:"render-3cd5f5c5",as:"span",children:n})]})}if(typeof window<"u"){const n={};globalThis.process??={};const s=globalThis.process.env??{};globalThis.process.env=new Proxy(Object.assign({},n,s),{get(a,d){return d in a?a[d]:void 0},has(){return!0}})}function oe({params:n}){const{id:s}=n,{formData:a,calculatedAmounts:d,selectedCompany:c,showSuccess:v,isOrderLoading:_,orderError:g,companies:k,workOrder:w,updateMutation:h,handleInputChange:x,handleCompanyChange:I,handleGstChange:y,handleSubmit:j}=Y(s);return _?e.jsx(te,{}):g||!w?e.jsx(J,{message:g?.message||"Work order not found"}):e.jsxs(r,{className:"min-h-screen bg-[#F6F8FA] dark:bg-[#121212]",renderId:"render-ecc1a0a4",as:"div",children:[e.jsx(X,{workOrderId:s,workOrderNumber:a.wo_number}),e.jsxs(r,{className:"max-w-6xl mx-auto p-6",renderId:"render-efc3023b",as:"main",children:[e.jsxs(r,{className:"grid lg:grid-cols-4 gap-6",renderId:"render-df551efa",as:"div",children:[e.jsx(r,{className:"lg:col-span-3",renderId:"render-70b79728",as:"div",children:e.jsxs(r,{onSubmit:j,className:"space-y-8",renderId:"render-2a681826",as:"form",children:[e.jsx(Z,{formData:a,handleInputChange:x,handleCompanyChange:I,companies:k}),e.jsx(ee,{formData:a,handleInputChange:x}),e.jsx(re,{formData:a,handleInputChange:x}),e.jsx(ne,{formData:a,calculatedAmounts:d,handleInputChange:x,handleGstChange:y}),e.jsx(se,{formData:a,handleInputChange:x}),e.jsx(ae,{id:s,isPending:h.isPending})]})}),e.jsx(de,{company:c})]}),v&&e.jsx(P,{message:"Work Order updated successfully!"}),h.error&&e.jsx(P,{message:h.error.message,type:"error"})]})]})}if(typeof window<"u"){const n={};globalThis.process??={};const s=globalThis.process.env??{};globalThis.process.env=new Proxy(Object.assign({},n,s),{get(a,d){return d in a?a[d]:void 0},has(){return!0}})}const Ie=q(function(s){const a=z();return e.jsx(W,{children:e.jsx(oe,{...s,id:a.id})})});export{Ie as default};
