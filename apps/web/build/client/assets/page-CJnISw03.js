import"./index-BBR7LY95.js";import{r as b,o as e,w as O,v as $}from"./chunk-OIYGIGL5-CHh4hLy7.js";import{u as R,R as U}from"./layout-fLsGi43P.js";import{C as r}from"./PolymorphicComponent-BTRAlSaW.js";import{c as M,u as W,L as F}from"./loader-circle-BiXf0MZp.js";import{u as D,S as q}from"./save-CYfpXxh-.js";import{C}from"./circle-alert-DgKs_Yk2.js";import{A as G}from"./arrow-left-B5a6TF-H.js";import{B as Q,C as V}from"./chevron-down-CBML68P_.js";import{C as H,I as J}from"./indian-rupee-yqKnPTb1.js";import{S as K,T as Z}from"./trash-2-elYzdV5b.js";import{B as X}from"./building-2-BSOjs4at.js";import{U as Y}from"./user-COdBKUpT.js";import{M as ee}from"./map-pin-Cqfw8YRB.js";import{C as re,a as de}from"./credit-card-DIN2C1JA.js";import{F as se}from"./file-text-CoEZokur.js";if(typeof window<"u"){const o={};globalThis.process??={};const a=globalThis.process.env??{};globalThis.process.env=new Proxy(Object.assign({},o,a),{get(t,i){return i in t?t[i]:void 0},has(){return!0}})}const ae=M("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);if(typeof window<"u"){const o={};globalThis.process??={};const a=globalThis.process.env??{};globalThis.process.env=new Proxy(Object.assign({},o,a),{get(t,i){return i in t?t[i]:void 0},has(){return!0}})}function ne({params:o}){const{id:a}=o,[t,i]=b.useState(!1),[l,j]=b.useState(""),[g,k]=b.useState(!1),[S,u]=b.useState(!1),[I,N]=b.useState(""),[w,p]=b.useState(""),E=R(),{data:P,isLoading:A,error:v}=W({queryKey:["work-order",a],queryFn:async()=>{const s=await fetch(`/api/work-orders/${a}`);if(!s.ok)throw new Error("Failed to fetch work order");return s.json()}}),x=D({mutationFn:async s=>{const n=await fetch(`/api/work-orders/${a}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:s})});if(!n.ok){const c=await n.json();throw new Error(c.error||"Failed to update status")}return n.json()},onSuccess:()=>{E.invalidateQueries(["work-order",a]),E.invalidateQueries(["work-orders"]),j("")}}),f=D({mutationFn:async()=>{const s=await fetch(`/api/work-orders/${a}`,{method:"DELETE"});if(!s.ok){const n=await s.json();throw new Error(n.error||"Failed to delete work order")}return s.json()},onSuccess:()=>{window.location.href="/work-orders"}}),d=P?.workOrder,B=s=>{const n={Draft:{bg:"bg-[#9CA3AF] dark:bg-[#6B7280]",text:"text-white"},"In Progress":{bg:"bg-[#F59E0B] dark:bg-[#D97706]",text:"text-white"},Completed:{bg:"bg-[#10B981] dark:bg-[#059669]",text:"text-white"},Active:{bg:"bg-[#3B82F6] dark:bg-[#2563EB]",text:"text-white"}},c=n[s]||n.Draft;return e.jsx(r,{className:`px-3 py-1 rounded-full text-sm font-medium ${c.bg} ${c.text}`,renderId:"render-f1ec6435",as:"span",children:s})},m=s=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:2}).format(s),y=s=>new Date(s).toLocaleDateString("en-IN",{day:"2-digit",month:"long",year:"numeric"}),_=()=>{l&&l!==d.status&&x.mutate(l)},z=()=>{u(!0),p(""),N("")},T=async()=>{if(I!=="admin123"){p("Invalid admin password");return}try{const s=await fetch(`/api/work-orders/${a}?admin_permission=true`,{method:"DELETE"});if(!s.ok){const n=await s.json();throw new Error(n.error||"Failed to delete work order")}u(!1),window.location.href="/work-orders"}catch(s){console.error("Error deleting work order:",s),p(s.message)}},L=async()=>{try{k(!0);const s=await fetch(`/api/work-orders/${a}/pdf`);if(!s.ok)throw new Error("Failed to generate PDF");const n=await s.blob(),c=window.URL.createObjectURL(n),h=document.createElement("a");h.href=c,h.download=`WorkOrder_${d.wo_number.replace(/[^a-zA-Z0-9]/g,"_")}.pdf`,document.body.appendChild(h),h.click(),document.body.removeChild(h),window.URL.revokeObjectURL(c)}catch(s){console.error("Error downloading PDF:",s),alert("Failed to generate PDF. Please try again.")}finally{k(!1)}};return A?e.jsx(r,{className:"min-h-screen bg-[#F6F8FA] dark:bg-[#121212] flex items-center justify-center",renderId:"render-366d5d75",as:"div",children:e.jsx(F,{size:32,className:"text-[#0C8657] dark:text-[#22C55E] animate-spin"})}):v||!d?e.jsx(r,{className:"min-h-screen bg-[#F6F8FA] dark:bg-[#121212] flex items-center justify-center",renderId:"render-9a6a962b",as:"div",children:e.jsxs(r,{className:"text-center",renderId:"render-2303eadb",as:"div",children:[e.jsx(C,{size:32,className:"text-[#E95D5D] dark:text-[#EF4444] mx-auto mb-2"}),e.jsx(r,{className:"text-[#5D667E] dark:text-[#B0B0B0]",renderId:"render-d35f837b",as:"p",children:v?.message||"Work order not found"})]})}):e.jsxs(r,{className:"min-h-screen bg-[#F6F8FA] dark:bg-[#121212]",renderId:"render-d5bd1ee2",as:"div",children:[e.jsxs(r,{className:"bg-[#0C8657] dark:bg-[#0C8657] h-14 flex items-center px-4 sm:px-6 text-white sticky top-0 z-30",renderId:"render-684778d9",as:"header",children:[e.jsxs(r,{onClick:()=>window.history.back(),className:"flex items-center gap-2 hover:bg-white/10 dark:hover:bg-white/10 active:bg-white/20 dark:active:bg-white/20 px-2 py-1 rounded transition-colors",renderId:"render-fa7b35d8",as:"button",children:[e.jsx(G,{size:20}),e.jsx(r,{className:"hidden sm:block",renderId:"render-abc744ec",as:"span",children:"Back"})]}),e.jsx(r,{className:"text-xl font-semibold ml-4",renderId:"render-1d38db83",as:"h1",children:"Work Order Details"}),e.jsxs(r,{className:"flex items-center gap-2 sm:gap-4 ml-auto",renderId:"render-9c77b39f",as:"div",children:[e.jsxs(r,{className:"relative hover:bg-white/10 dark:hover:bg-white/10 active:bg-white/20 dark:active:bg-white/20 p-1 rounded transition-colors",renderId:"render-d9c907f3",as:"button",children:[e.jsx(Q,{size:20}),e.jsx(r,{className:"absolute -top-1 -right-1 w-3 h-3 bg-[#FFD83B] dark:bg-[#FCD34D] rounded-full",renderId:"render-ea5712b4",as:"div"})]}),e.jsxs(r,{className:"hidden sm:flex items-center gap-2 cursor-pointer hover:bg-white/10 dark:hover:bg-white/10 active:bg-white/20 dark:active:bg-white/20 px-2 py-1 rounded transition-colors",renderId:"render-c8e73e5e",as:"button",children:[e.jsx(r,{src:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=32&h=32&fit=crop&crop=face&auto=format",alt:"User Avatar",className:"w-8 h-8 rounded-full",renderId:"render-1bd84ff0",as:"img"}),e.jsx(r,{className:"hidden md:block",renderId:"render-54030d9c",as:"span",children:"Admin User"}),e.jsx(V,{size:16})]})]})]}),e.jsxs(r,{className:"max-w-6xl mx-auto p-6",renderId:"render-2b2eb4bd",as:"main",children:[e.jsx(r,{className:"bg-white dark:bg-[#1E1E1E] rounded-lg border border-[#E4E8EE] dark:border-[#333333] p-6 mb-6",renderId:"render-ff7c79b5",as:"div",children:e.jsxs(r,{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",renderId:"render-8d752bb4",as:"div",children:[e.jsxs(r,{renderId:"render-b3b0a71d",as:"div",children:[e.jsx(r,{className:"text-2xl font-bold text-[#1F2739] dark:text-[#FFFFFF] mb-2",renderId:"render-9c334db8",as:"h1",children:d.wo_number}),e.jsxs(r,{className:"flex items-center gap-4 text-sm text-[#5D667E] dark:text-[#B0B0B0]",renderId:"render-d98e1787",as:"div",children:[e.jsxs(r,{className:"flex items-center gap-1",renderId:"render-73ac725a",as:"div",children:[e.jsx(H,{size:16}),y(d.date)]}),e.jsxs(r,{className:"flex items-center gap-2",renderId:"render-16ffc9f8",as:"div",children:["Status: ",B(d.status)]})]})]}),e.jsxs(r,{className:"flex items-center gap-3",renderId:"render-91b494aa",as:"div",children:[e.jsxs(r,{onClick:()=>window.location.href=`/work-orders/${a}/edit`,className:"flex items-center gap-2 px-4 py-2 bg-[#3B82F6] dark:bg-[#2563EB] text-white rounded-lg hover:bg-[#2563EB] dark:hover:bg-[#1D4ED8] transition-colors",renderId:"render-b9aae1c6",as:"button",children:[e.jsx(K,{size:16}),e.jsx(r,{renderId:"render-915c5435",as:"span",children:"Edit"})]}),e.jsxs(r,{onClick:L,disabled:g,className:"flex items-center gap-2 px-4 py-2 bg-[#10B981] dark:bg-[#059669] text-white rounded-lg hover:bg-[#059669] dark:hover:bg-[#047857] disabled:opacity-50 transition-colors",renderId:"render-a2738a29",as:"button",children:[g?e.jsx(F,{size:16,className:"animate-spin"}):e.jsx(ae,{size:16}),e.jsx(r,{renderId:"render-8a24b336",as:"span",children:g?"Generating PDF...":"Download PDF"})]}),e.jsxs(r,{onClick:z,disabled:f.isPending,className:"flex items-center gap-2 px-4 py-2 bg-[#EF4444] dark:bg-[#DC2626] text-white rounded-lg hover:bg-[#DC2626] dark:hover:bg-[#B91C1C] disabled:opacity-50 transition-colors",renderId:"render-c5225b80",as:"button",children:[f.isPending?e.jsx(F,{size:16,className:"animate-spin"}):e.jsx(Z,{size:16}),e.jsx(r,{renderId:"render-8cab0e96",as:"span",children:"Delete"})]})]})]})}),e.jsxs(r,{className:"grid lg:grid-cols-3 gap-6",renderId:"render-18def602",as:"div",children:[e.jsxs(r,{className:"lg:col-span-2 space-y-6",renderId:"render-fb88ca75",as:"div",children:[e.jsxs(r,{className:"bg-white dark:bg-[#1E1E1E] rounded-lg border border-[#E4E8EE] dark:border-[#333333] p-6",renderId:"render-868b5150",as:"div",children:[e.jsxs(r,{className:"flex items-center gap-2 mb-4",renderId:"render-a9d3c595",as:"div",children:[e.jsx(X,{size:20,className:"text-[#0C8657] dark:text-[#22C55E]"}),e.jsx(r,{className:"text-lg font-semibold text-[#1F2739] dark:text-[#FFFFFF]",renderId:"render-3e21c628",as:"h2",children:"Company Information"})]}),e.jsxs(r,{className:"grid md:grid-cols-2 gap-4",renderId:"render-4d0fefa5",as:"div",children:[e.jsxs(r,{renderId:"render-8fac3cf5",as:"div",children:[e.jsx(r,{className:"block text-sm font-medium text-[#5D667E] dark:text-[#B0B0B0] mb-1",renderId:"render-6c36e58c",as:"label",children:"Company"}),e.jsx(r,{className:"text-[#1F2739] dark:text-[#FFFFFF] font-medium",renderId:"render-2e49918e",as:"p",children:d.company_name||"N/A"})]}),e.jsxs(r,{renderId:"render-2f00a99d",as:"div",children:[e.jsx(r,{className:"block text-sm font-medium text-[#5D667E] dark:text-[#B0B0B0] mb-1",renderId:"render-b932560e",as:"label",children:"Date"}),e.jsx(r,{className:"text-[#1F2739] dark:text-[#FFFFFF]",renderId:"render-a626f6fa",as:"p",children:y(d.date)})]})]})]}),e.jsxs(r,{className:"bg-white dark:bg-[#1E1E1E] rounded-lg border border-[#E4E8EE] dark:border-[#333333] p-6",renderId:"render-91a71f9e",as:"div",children:[e.jsxs(r,{className:"flex items-center gap-2 mb-4",renderId:"render-dba27911",as:"div",children:[e.jsx(Y,{size:20,className:"text-[#0C8657] dark:text-[#22C55E]"}),e.jsx(r,{className:"text-lg font-semibold text-[#1F2739] dark:text-[#FFFFFF]",renderId:"render-fc74f047",as:"h2",children:"Vendor Details"})]}),e.jsxs(r,{className:"grid md:grid-cols-2 gap-4",renderId:"render-f44f2fb8",as:"div",children:[e.jsxs(r,{renderId:"render-a04de36e",as:"div",children:[e.jsx(r,{className:"block text-sm font-medium text-[#5D667E] dark:text-[#B0B0B0] mb-1",renderId:"render-2a7e841a",as:"label",children:"Vendor Name"}),e.jsx(r,{className:"text-[#1F2739] dark:text-[#FFFFFF] font-medium",renderId:"render-bea8b707",as:"p",children:d.vendor_name})]}),e.jsxs(r,{renderId:"render-2ee45e4e",as:"div",children:[e.jsx(r,{className:"block text-sm font-medium text-[#5D667E] dark:text-[#B0B0B0] mb-1",renderId:"render-b3abb972",as:"label",children:"Contact Number"}),e.jsx(r,{className:"text-[#1F2739] dark:text-[#FFFFFF]",renderId:"render-4569c2fd",as:"p",children:d.vendor_contact||"N/A"})]}),e.jsxs(r,{className:"md:col-span-2",renderId:"render-cbf3f99d",as:"div",children:[e.jsx(r,{className:"block text-sm font-medium text-[#5D667E] dark:text-[#B0B0B0] mb-1",renderId:"render-81e3d1af",as:"label",children:"Address"}),e.jsx(r,{className:"text-[#1F2739] dark:text-[#FFFFFF]",renderId:"render-4e0c59d6",as:"p",children:d.vendor_address||"N/A"})]}),e.jsxs(r,{renderId:"render-f3d4bcff",as:"div",children:[e.jsx(r,{className:"block text-sm font-medium text-[#5D667E] dark:text-[#B0B0B0] mb-1",renderId:"render-42ddd5a6",as:"label",children:"GST Number"}),e.jsx(r,{className:"text-[#1F2739] dark:text-[#FFFFFF]",renderId:"render-20557b31",as:"p",children:d.vendor_gst||"N/A"})]})]})]}),e.jsxs(r,{className:"bg-white dark:bg-[#1E1E1E] rounded-lg border border-[#E4E8EE] dark:border-[#333333] p-6",renderId:"render-76269411",as:"div",children:[e.jsxs(r,{className:"flex items-center gap-2 mb-4",renderId:"render-01ceb7d2",as:"div",children:[e.jsx(ee,{size:20,className:"text-[#0C8657] dark:text-[#22C55E]"}),e.jsx(r,{className:"text-lg font-semibold text-[#1F2739] dark:text-[#FFFFFF]",renderId:"render-7b7d28f2",as:"h2",children:"Project Details"})]}),e.jsxs(r,{className:"space-y-4",renderId:"render-f26ff30a",as:"div",children:[e.jsxs(r,{renderId:"render-55acfb4c",as:"div",children:[e.jsx(r,{className:"block text-sm font-medium text-[#5D667E] dark:text-[#B0B0B0] mb-1",renderId:"render-4c53a7f2",as:"label",children:"Site Name"}),e.jsx(r,{className:"text-[#1F2739] dark:text-[#FFFFFF] font-medium",renderId:"render-da7d0a7a",as:"p",children:d.site_name})]}),e.jsxs(r,{renderId:"render-cd79e2ac",as:"div",children:[e.jsx(r,{className:"block text-sm font-medium text-[#5D667E] dark:text-[#B0B0B0] mb-1",renderId:"render-7fbe3f3c",as:"label",children:"Project Description"}),e.jsx(r,{className:"text-[#1F2739] dark:text-[#FFFFFF]",renderId:"render-0e8ea62f",as:"p",children:d.project_description||"N/A"})]}),e.jsxs(r,{renderId:"render-22c797cf",as:"div",children:[e.jsx(r,{className:"block text-sm font-medium text-[#5D667E] dark:text-[#B0B0B0] mb-1",renderId:"render-66a07280",as:"label",children:"Description of Work"}),e.jsx(r,{className:"text-[#1F2739] dark:text-[#FFFFFF] whitespace-pre-wrap",renderId:"render-15be806a",as:"p",children:d.work_description})]})]})]}),e.jsxs(r,{className:"bg-white dark:bg-[#1E1E1E] rounded-lg border border-[#E4E8EE] dark:border-[#333333] p-6",renderId:"render-541f9fe3",as:"div",children:[e.jsxs(r,{className:"flex items-center gap-2 mb-4",renderId:"render-11702566",as:"div",children:[e.jsx(re,{size:20,className:"text-[#0C8657] dark:text-[#22C55E]"}),e.jsx(r,{className:"text-lg font-semibold text-[#1F2739] dark:text-[#FFFFFF]",renderId:"render-291b995f",as:"h2",children:"Payment & Bank Details"})]}),e.jsxs(r,{className:"grid md:grid-cols-2 gap-4",renderId:"render-3b8a46d3",as:"div",children:[e.jsxs(r,{renderId:"render-cb562a76",as:"div",children:[e.jsx(r,{className:"block text-sm font-medium text-[#5D667E] dark:text-[#B0B0B0] mb-1",renderId:"render-40f7514d",as:"label",children:"Payment Terms"}),e.jsx(r,{className:"text-[#1F2739] dark:text-[#FFFFFF]",renderId:"render-dc69fa7b",as:"p",children:d.payment_terms||"N/A"})]}),e.jsxs(r,{renderId:"render-2710a042",as:"div",children:[e.jsx(r,{className:"block text-sm font-medium text-[#5D667E] dark:text-[#B0B0B0] mb-1",renderId:"render-03cd304d",as:"label",children:"Bank Name"}),e.jsx(r,{className:"text-[#1F2739] dark:text-[#FFFFFF]",renderId:"render-8e533cb1",as:"p",children:d.vendor_bank_name||"N/A"})]}),e.jsxs(r,{renderId:"render-8c0259cc",as:"div",children:[e.jsx(r,{className:"block text-sm font-medium text-[#5D667E] dark:text-[#B0B0B0] mb-1",renderId:"render-75256d43",as:"label",children:"Account Number"}),e.jsx(r,{className:"text-[#1F2739] dark:text-[#FFFFFF]",renderId:"render-84d21a2c",as:"p",children:d.vendor_bank_account||"N/A"})]}),e.jsxs(r,{renderId:"render-13230b40",as:"div",children:[e.jsx(r,{className:"block text-sm font-medium text-[#5D667E] dark:text-[#B0B0B0] mb-1",renderId:"render-12b486a6",as:"label",children:"IFSC Code"}),e.jsx(r,{className:"text-[#1F2739] dark:text-[#FFFFFF]",renderId:"render-a735e0e2",as:"p",children:d.vendor_bank_ifsc||"N/A"})]})]})]})]}),e.jsxs(r,{className:"space-y-6",renderId:"render-f285b0d6",as:"div",children:[e.jsxs(r,{className:"bg-white dark:bg-[#1E1E1E] rounded-lg border border-[#E4E8EE] dark:border-[#333333] p-6",renderId:"render-195f6d3a",as:"div",children:[e.jsxs(r,{className:"flex items-center gap-2 mb-4",renderId:"render-7268f862",as:"div",children:[e.jsx(J,{size:20,className:"text-[#0C8657] dark:text-[#22C55E]"}),e.jsx(r,{className:"text-lg font-semibold text-[#1F2739] dark:text-[#FFFFFF]",renderId:"render-07d4b51c",as:"h2",children:"Financial Summary"})]}),e.jsxs(r,{className:"space-y-3",renderId:"render-ceaea4bf",as:"div",children:[e.jsxs(r,{className:"flex justify-between",renderId:"render-bf42b146",as:"div",children:[e.jsx(r,{className:"text-[#5D667E] dark:text-[#B0B0B0]",renderId:"render-be043363",as:"span",children:"Total Amount:"}),e.jsx(r,{className:"text-[#1F2739] dark:text-[#FFFFFF] font-medium",renderId:"render-5e98f891",as:"span",children:m(d.total_amount)})]}),e.jsxs(r,{className:"flex justify-between",renderId:"render-b236338f",as:"div",children:[e.jsxs(r,{className:"text-[#5D667E] dark:text-[#B0B0B0]",renderId:"render-1b5a5499",as:"span",children:["SGST (",d.sgst_percent,"%):"]}),e.jsx(r,{className:"text-[#1F2739] dark:text-[#FFFFFF]",renderId:"render-c40f9ce3",as:"span",children:m(d.sgst_amount)})]}),e.jsxs(r,{className:"flex justify-between",renderId:"render-4caa6b1e",as:"div",children:[e.jsxs(r,{className:"text-[#5D667E] dark:text-[#B0B0B0]",renderId:"render-a947a281",as:"span",children:["CGST (",d.cgst_percent,"%):"]}),e.jsx(r,{className:"text-[#1F2739] dark:text-[#FFFFFF]",renderId:"render-2303a513",as:"span",children:m(d.cgst_amount)})]}),e.jsxs(r,{className:"flex justify-between",renderId:"render-f4480ee2",as:"div",children:[e.jsx(r,{className:"text-[#5D667E] dark:text-[#B0B0B0]",renderId:"render-06f000d1",as:"span",children:"Gross Amount:"}),e.jsx(r,{className:"text-[#1F2739] dark:text-[#FFFFFF] font-medium",renderId:"render-18fecf69",as:"span",children:m(d.gross_amount)})]}),e.jsxs(r,{className:"flex justify-between",renderId:"render-df21597b",as:"div",children:[e.jsxs(r,{className:"text-[#5D667E] dark:text-[#B0B0B0]",renderId:"render-6b55605a",as:"span",children:["Retention (",d.retention_percent,"%):"]}),e.jsxs(r,{className:"text-[#1F2739] dark:text-[#FFFFFF]",renderId:"render-1778a161",as:"span",children:["-",m(d.retention_amount)]})]}),e.jsx(r,{className:"border-[#E4E8EE] dark:border-[#333333]",renderId:"render-aa14a56b",as:"hr"}),e.jsxs(r,{className:"flex justify-between text-lg font-bold",renderId:"render-58945023",as:"div",children:[e.jsx(r,{className:"text-[#1F2739] dark:text-[#FFFFFF]",renderId:"render-0ef02bd5",as:"span",children:"Net Amount:"}),e.jsx(r,{className:"text-[#0C8657] dark:text-[#22C55E]",renderId:"render-0116b29a",as:"span",children:m(d.net_amount)})]})]})]}),e.jsxs(r,{className:"bg-white dark:bg-[#1E1E1E] rounded-lg border border-[#E4E8EE] dark:border-[#333333] p-6",renderId:"render-6854150b",as:"div",children:[e.jsxs(r,{className:"flex items-center gap-2 mb-4",renderId:"render-1b58c75a",as:"div",children:[e.jsx(se,{size:20,className:"text-[#0C8657] dark:text-[#22C55E]"}),e.jsx(r,{className:"text-lg font-semibold text-[#1F2739] dark:text-[#FFFFFF]",renderId:"render-2a8d6579",as:"h2",children:"Status Management"})]}),e.jsxs(r,{className:"space-y-4",renderId:"render-45011510",as:"div",children:[e.jsxs(r,{renderId:"render-05dcb886",as:"div",children:[e.jsx(r,{className:"block text-sm font-medium text-[#5D667E] dark:text-[#B0B0B0] mb-2",renderId:"render-b0e9b34c",as:"label",children:"Current Status"}),B(d.status)]}),e.jsxs(r,{renderId:"render-5a68e5a4",as:"div",children:[e.jsx(r,{className:"block text-sm font-medium text-[#5D667E] dark:text-[#B0B0B0] mb-2",renderId:"render-470a0895",as:"label",children:"Change Status"}),e.jsxs(r,{value:l,onChange:s=>j(s.target.value),className:"w-full px-3 py-2 border border-[#E4E8EE] dark:border-[#333333] rounded-lg bg-white dark:bg-[#262626] text-[#1F2739] dark:text-[#FFFFFF] focus:outline-none focus:ring-2 focus:ring-[#0C8657] dark:focus:ring-[#22C55E]",renderId:"render-62629960",as:"select",children:[e.jsx(r,{value:"",renderId:"render-e3880383",as:"option",children:"Select Status"}),e.jsx(r,{value:"Draft",renderId:"render-242a544e",as:"option",children:"Draft"}),e.jsx(r,{value:"Active",renderId:"render-6022d499",as:"option",children:"Active"}),e.jsx(r,{value:"In Progress",renderId:"render-c497011c",as:"option",children:"In Progress"}),e.jsx(r,{value:"Completed",renderId:"render-40757f17",as:"option",children:"Completed"})]})]}),l&&l!==d.status&&e.jsxs(r,{onClick:_,disabled:x.isPending,className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-[#0C8657] dark:bg-[#059669] text-white rounded-lg hover:bg-[#0a6b47] dark:hover:bg-[#047857] disabled:opacity-50 transition-colors",renderId:"render-d5995730",as:"button",children:[x.isPending?e.jsx(F,{size:16,className:"animate-spin"}):e.jsx(q,{size:16}),e.jsx(r,{renderId:"render-f0a6d7e0",as:"span",children:"Update Status"})]})]})]})]})]}),S&&e.jsx(r,{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",renderId:"render-cd5877ef",as:"div",children:e.jsxs(r,{className:"bg-white dark:bg-[#1E1E1E] rounded-lg max-w-md w-full p-6",renderId:"render-e087a8cc",as:"div",children:[e.jsxs(r,{className:"flex items-center gap-3 mb-4",renderId:"render-ea47e6e3",as:"div",children:[e.jsx(C,{size:24,className:"text-red-500"}),e.jsx(r,{className:"text-lg font-semibold text-[#1F2739] dark:text-[#FFFFFF]",renderId:"render-01d46d8e",as:"h3",children:"Delete Work Order"})]}),e.jsxs(r,{className:"text-[#5D667E] dark:text-[#B0B0B0] mb-4",renderId:"render-b80a0a58",as:"p",children:["Are you sure you want to delete work order"," ",e.jsx(r,{renderId:"render-aa939d74",as:"strong",children:d?.wo_number}),"? This action cannot be undone and requires admin permission."]}),e.jsxs(r,{className:"mb-4",renderId:"render-91cd4b21",as:"div",children:[e.jsx(r,{className:"block text-sm font-medium text-[#5D667E] dark:text-[#B0B0B0] mb-2",renderId:"render-f35b2e1a",as:"label",children:"Admin Password"}),e.jsx(r,{type:"password",value:I,onChange:s=>N(s.target.value),className:"w-full px-3 py-2 border border-[#E4E8EE] dark:border-[#333333] rounded-lg bg-white dark:bg-[#262626] text-[#1F2739] dark:text-[#FFFFFF] focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"Enter admin password",renderId:"render-721ef40e",as:"input"}),w&&e.jsx(r,{className:"text-red-500 text-sm mt-2",renderId:"render-f3e7e50b",as:"p",children:w})]}),e.jsxs(r,{className:"flex gap-3",renderId:"render-feb378fe",as:"div",children:[e.jsx(r,{onClick:()=>u(!1),className:"flex-1 px-4 py-2 border border-[#E4E8EE] dark:border-[#333333] text-[#5D667E] dark:text-[#B0B0B0] rounded-lg hover:bg-gray-50 dark:hover:bg-[#262626] transition-colors",renderId:"render-28f3f9cb",as:"button",children:"Cancel"}),e.jsx(r,{onClick:T,className:"flex-1 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",renderId:"render-0cc313e1",as:"button",children:"Delete"})]})]})}),x.isSuccess&&e.jsxs(r,{className:"fixed bottom-6 right-6 bg-[#10B981] dark:bg-[#059669] text-white px-6 py-3 rounded-lg shadow-lg flex items-center gap-2 z-50",renderId:"render-8f96ffeb",as:"div",children:[e.jsx(de,{size:20}),e.jsx(r,{renderId:"render-4650be5c",as:"span",children:"Status updated successfully!"})]}),(x.error||f.error)&&e.jsx(r,{className:"fixed bottom-6 right-6 bg-[#EF4444] dark:bg-[#DC2626] text-white px-6 py-3 rounded-lg shadow-lg z-50",renderId:"render-7671e79f",as:"div",children:x.error?.message||f.error?.message})]})]})}if(typeof window<"u"){const o={};globalThis.process??={};const a=globalThis.process.env??{};globalThis.process.env=new Proxy(Object.assign({},o,a),{get(t,i){return i in t?t[i]:void 0},has(){return!0}})}const Ie=O(function(a){const t=$();return e.jsx(U,{children:e.jsx(ne,{...a,id:t.id})})});export{Ie as default};
